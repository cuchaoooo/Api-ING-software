<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Festivos</title>
    <script>
        async function validarFestivo() {
            const paisId = document.getElementById('paisId').value;
            const fecha = document.getElementById('fecha').value;
            const response = await fetch(`/festivos/validar?paisId=${paisId}&fecha=${fecha}`);
            const esFestivo = await response.json();
            document.getElementById('resultado').innerText = esFestivo ? "Es festivo" : "No es festivo";
        }

        async function listarFestivos() {
            const paisId = document.getElementById('paisIdLista').value;
            const anio = document.getElementById('anio').value;
            const response = await fetch(`/festivos/listar?paisId=${paisId}&anio=${anio}`);
            const festivos = await response.json();
            
            let lista = "<ul>";
            festivos.forEach(f => {
                lista += `<li>${f.nombre} - ${f.fecha}</li>`;
            });
            lista += "</ul>";
            
            document.getElementById('listaFestivos').innerHTML = lista;
        }
    </script>
</head>
<body>
    <h1>Consulta de Festivos</h1>
    <div>
        <h2>Validar si una fecha es festivo</h2>
        <label>País ID: <input type="number" id="paisId"></label>
        <label>Fecha: <input type="date" id="fecha"></label>
        <button onclick="validarFestivo()">Consultar</button>
        <p id="resultado"></p>
    </div>
    
    <div>
        <h2>Listar festivos de un año</h2>
        <label>País ID: <input type="number" id="paisIdLista"></label>
        <label>Año: <input type="number" id="anio"></label>
        <button onclick="listarFestivos()">Consultar</button>
        <div id="listaFestivos"></div>
    </div>
</body>
</html>
